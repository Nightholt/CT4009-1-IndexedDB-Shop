<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="..\NavigateItem\NavigateItem.css">
<link rel="stylesheet" type="text/css" href="StoreLocation.css">
<title>Find a store</title>
</head>
	
<body background="..\Images\Background3.jpg">	
<nav>
	<ul class="navigation">
		<li>
			<a href = ..\NavigateItem\NavigateItem.html> Home</a>
		</li>
		<li>
            <div class="dropdown">			
            	<a href= "..\NavigateItem\Clothes.html">Clothes</a>
            	<div class="subCatergories">
            	<a href="..\NavigateItem\Clothes.html#tshirts">T Shirts</a>
            	<a href="..\NavigateItem\Clothes.html#jeans">Jeans</a>
            	<a href="..\NavigateItem\Clothes.html#trainers">Trainers</a>
            </div>
            </div>
		</li>
		<li>
			<div class="dropdown">
			<a href= "..\NavigateItem\Accessories.html">Accessories</a>
				<div class="subCatergories">
            	<a href="..\NavigateItem\Accessories.html#watches">Watches</a>
            	<a href="..\NavigateItem\Accessories.html#bags">Bags</a>
            	<a href="..\NavigateItem\Accessories.html#glasses">Glasses</a>
            </div>
            </div>

		</li>
		<li>
            <div class="dropdown">			
			<a href= "..\NavigateItem\Technology.html">Technology</a>
				<div class="subCatergories">
            	<a href="..\NavigateItem\Technology.html#laptops">Laptops</a>
            	<a href="..\NavigateItem\Technology.html#desktops">Desktops</a>
            	<a href="..\NavigateItem\Technology.html#printers">3D Printers</a>
            </div>
            </div>
		</li>
		<li>

			<a href= "..\WatchList\Watchlist.html">Watchlist</a>
		</li>
		<li>
			<a href= "..\StoreLocation\StoreLocation.html">Find a Store</a>
		</li>
	</ul>
</nav>


<div id="googleMap" style="width:100%;height:500px;">
  

</div>

<h1>Find a store</h1>



<!--form for the radio button to find the closest store-->
<form>
	<fieldset>
		<legend>Filter your search</legend>
	


	<!--dropdown form for all of the different stores form the website-->


	Find a specific store in your own name:<br>
	<select name="places" id="type" onchange="filterMarkers(this.value);">
	</br>
    <option value="">Find one of our stores</option>
    <option value="birmingham">Birmingham</option>
    <option value="london">London</option>
    <option value="cheltenham">Cheltenham</option>
    <option value="worcester">Worcester</option>
  </select>
	<br>
	<!--button that once click will filter the iframe based on the forms-->

  <button>Filter your Search</button>
  </fieldset>
</form>


	<fieldset>
		<legend>Store opening times</legend>
	
 <table>
    <tr>
    
    <th >Day of the week:</th>
   
    <th rowspan="8" colspan="2"></th>
    <th>Opening times: </th>
  </tr>

  <tr>
  	<th >Monday</th>
  	<th>9:00AM-18:00PM</th>
  </tr>

  <tr>
  	<th>Tuesday</th>
  	<th>9:00AM-18:00PM</th>
  </tr>

  <tr>
  	<th>Wenesday</th>
  	<th>9:00AM-18:00PM</th>
  </tr>

  <tr>
  	<th>Thursday</th>
  	<th>9:00AM-18:00PM</th>
  </tr>

  <tr>
  	<th>Friday</th>
  	<th>9:00AM-18:00PM</th>
  </tr>

  <tr>
    <th>Saturday</th>
    <th>9:00AM-20:00PM</th>
  </tr>

  <tr>
    <th>Sunday</th>
    <th>11:00AM-16:00PM</th>
  </tr>
       
    </table>

  </fieldset>

 

<footer>&copy; 2019 Joe Cox</footer>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6QCGqF325m9QTLFst-qHTbE1lUaePKHY&callback=myMap"></script>
<script>
var gmarkersPosition = [];
var markersPosition = [];
var infowindow = new google.maps.InfoWindow({
    content: ''
});


// Our markers
markersPosition = [
    ['0', 'Cheltenham Warehouse store',  51.981548, -1.691565, 'cheltenham'],
    ['1', 'London Warehouse store', 51.508742,-0.120850, 'london'],
    ['2', 'Birmingham Warehouse store', 52.476046, -1.890418, 'birmingham'],
    ['3', 'Worcester Warehouse store', 52.180215, -2.263468, 'worcester']
];

//start of the map
function myMap() {
    var mapProp= new google.maps.LatLng(52.091859, -1.309033
);

    var mapOptions = {
      zoom: 8,
      center: mapProp,
    };

    allMarkers = new google.maps.Map(document.getElementById('googleMap'), mapOptions);
    for (i = 0; i < markersPosition.length; i++) {
        addMarker(markersPosition[i]);
    }
}


 function addMarker(marker) {
    //finds the category name in its position 
    var category = marker[4];
    var content = marker[1];
    //gets the lattitude and longitude of the markers
    var pos = new google.maps.LatLng(marker[2], marker[3]);
    
    
  //adds the markers onto the map
    newStoreMarkers = new google.maps.Marker({
        
        position: pos,
        category: category,
        map: allMarkers
    });

  gmarkersPosition.push(newStoreMarkers);

  google.maps.event.addListener(newStoreMarkers, 'click', (function (newStoreMarkers, content) {
        return function () {
            infowindow.setContent(content);
            infowindow.open(allMarkers, newStoreMarkers);
            
            
      }
  })
  (newStoreMarkers, content));
}



filterMarkers = function (category) {
  //loops tthe arry to check each category name 
    for (i = 0; i < markersPosition.length; i++) {
        marker = gmarkersPosition[i];
        // If the dropdwon value matchs category then display only that marker
        if (marker.category == category) {
            marker.setVisible(true);
        }
        // display all when no dropdown is selected
        else {
            marker.setVisible(false);
        }
    }
}
myMap();
</script>

</body>
</html>